!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],e):e((t=t||self)["react-global-states"]={},t.React)}(this,(function(t,e){"use strict";var n=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t){function e(){return t.exports=e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e.apply(this,arguments)}t.exports=e})),r=function(t){var r=t,o={handlers:[],subscribe:function(t){this.handlers.includes(t)||this.handlers.push(t)},unsubscribe:function(t){var e=this.handlers.indexOf(t);e>-1&&this.handlers.splice(e,1)},notify:function(t){this.handlers.forEach((function(e){return e(t)}))}},s=Object.getPrototypeOf({}),i=function(t){return Boolean(t&&"object"==typeof t&&Object.getPrototypeOf(t)===s)},u=function(t,e,n){if(void 0===n&&(n=1),null===t||null===e||void 0===t||void 0===e)return t===e;var r=Object.getPrototypeOf(t);if(n<=2&&(r===s||Array.isArray(t))&&r===Object.getPrototypeOf(e)){var o=Object.entries(t).every((function(t){var r=t[0],o=t[1];return u(o,e[r],n+1)}));return o=o&&Object.entries(e).every((function(e){var r=e[0],o=e[1];return u(t[r],o,n+1)}))}return t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():t===e};return{useGlobalStates:function(t){var n=e.useState(t.reduce((function(t,e){return e in r&&(t[e]=r[e]),t}),{})),s=n[0],i=n[1],a=t.slice().sort().join("|");return e.useEffect((function(){var e=function(e){var n=t.reduce((function(t,n){return n in e&&(t[n]=e[n]),t}),{});u(s,n)||i(n)};return o.subscribe(e),function(){return o.unsubscribe(e)}}),[s,a]),s},getStates:function(){return n({},r)},setStates:function(t){r=t,o.notify(t)},updateStates:function(t){for(var e=n({},r),s=Object.keys(t);s.length;){var u=s.shift(),a=r[u],c=t[u];i(a)&&i(c)?e[u]=n({},a,{},c):e[u]=c}r=e,o.notify(e)}}},o=r({}),s=o.useGlobalStates,i=o.getStates,u=o.setStates,a=o.updateStates;t.createStore=r,t.getStates=i,t.setStates=u,t.updateStates=a,t.useGlobalStates=s,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=react-global-states.umd.min.js.map
